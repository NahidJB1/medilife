<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile | MEDeLIFE</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/profile.css">
</head>
<body>

    <aside class="sidebar">
        <div class="brand" onclick="goBack()">
            <svg width="30" height="30" viewBox="0 0 100 100" style="margin-right: 10px;">
                <rect x="35" y="10" width="30" height="80" rx="5" fill="#EF4444" />
                <rect x="10" y="35" width="80" height="30" rx="5" fill="#EF4444" />
            </svg>
            <span>MED<span style="color:var(--secondary)">e</span>LIFE</span>
        </div>
        <div class="nav-items">
            <div class="nav-item" onclick="goBack()"><i class="fas fa-arrow-left"></i> Back to Dashboard</div>
        </div>
        <div class="user-mini-profile">
            <img id="sideAvatar" src="https://via.placeholder.com/150" class="mini-avatar">
            <div>
                <h4 id="sideName" style="font-size: 0.9rem;">User</h4>
                <p id="sideRole" style="font-size: 0.75rem; color: var(--gray);">Profile Settings</p>
            </div>
        </div>
    </aside>

    <main class="main-content">
        <div class="profile-header">
            <div class="profile-img-container">
                <img id="mainProfileImg" src="https://via.placeholder.com/150" class="profile-big-img">
                <label for="imgUpload" class="camera-btn"><i class="fas fa-camera"></i></label>
                <input type="file" id="imgUpload" hidden accept="image/*" onchange="previewImage(this)">
            </div>
            <div>
                <h1 id="headerName">Loading...</h1>
                <p id="headerRole" style="color:var(--gray)">Update your personal details</p>
            </div>
        </div>

        <div class="profile-nav">
            <div class="p-nav-item active" onclick="switchTab('details')">Detail Information</div>
            <div class="p-nav-item" onclick="switchTab('account')">Account</div>
        </div>

        <div id="detailsTab" class="form-section active">
    <form id="profileForm" onsubmit="event.preventDefault(); saveProfile();">
        <div class="form-grid" id="dynamicFields">
            </div>
        <button type="submit" class="btn-save">Save Changes</button>
    </form>
</div>

        <div id="accountTab" class="form-section">
            <h3 style="margin-bottom:20px;">Account Settings</h3>
            <div class="form-group">
                <label>Email Address</label>
                <input type="text" id="accEmail" class="form-input" disabled style="background:#F3F4F6; cursor:not-allowed;">
            </div>
            <div class="form-group">
                <label>User ID</label>
                <input type="text" id="accUid" class="form-input" disabled style="background:#F3F4F6; cursor:not-allowed;">
            </div>
            <p style="color:var(--gray); font-size:0.9rem; margin-top:20px;">To update sensitive account information like passwords, please contact support.</p>
        </div>

    </main>

    <div id="toast-box"><i class="fas fa-check-circle"></i> <span id="toast-msg">Saved Successfully</span></div>

    <script src="js/profile.js"></script>


</body>
</html>
